# Nombre de tu workflow (puedes ponerle lo que quieras)
name: main

# Cuándo se debe ejecutar
on:
  push:
    # Se ejecuta solo cuando haces 'push' a la rama 'main'
    branches: [ "main" ]
  workflow_dispatch:
    # Esto te permite ejecutarlo manualmente desde la pestaña "Actions" en GitHub

# Los "trabajos" que se van a realizar
jobs:
  build:
    # El tipo de servidor que usará (Linux es el más común)
    runs-on: ubuntu-latest

    steps:
      # 1. Descarga tu código del repositorio al servidor
      - name: Clonar el repositorio
        uses: actions/checkout@v4

      # 2. Configura el entorno de Python (puedes cambiar la versión)
      - name: Configurar Python 3.10
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      # 3. Instala las dependencias de tu proyecto
      - name: Instalar dependencias
        run: |
          python -m pip install --upgrade pip
          if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
      
      # 4. Ejecuta tu script principal
      # (Cambia 'sherlook.py' por el nombre real de tu archivo)
      - name: Ejecutar el script
        run: python sherlook.py
